package com.project.demo.controller;

import com.alibaba.fastjson.JSONObject;
import com.project.demo.entity.NoticeAnnouncement;
import com.project.demo.service.NoticeAnnouncementService;
import com.project.demo.controller.base.BaseController;
import com.project.demo.utils.SensitiveWordEngine;
import com.project.demo.utils.SensitiveWordInit;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.transaction.annotation.Transactional;
import org.springframework.web.bind.annotation.*;

import javax.servlet.http.HttpServletRequest;
import java.io.IOException;
import java.util.*;


/**
 * 通知公告：(NoticeAnnouncement)表控制层
 */
@RestController
@RequestMapping("/notice_announcement")
public class NoticeAnnouncementController extends BaseController<NoticeAnnouncement, NoticeAnnouncementService> {

    // 建立敏感词库
    List<String> sensitiveWordDicts = Arrays.asList(
            "草你妈",
            "你妈的",
            "他妈的",
            "cnm",
            "狗日",
            "傻逼",
            "SB",
            "sb",
            "傻屌",
            "第二代领导",
            "第四代领导",
            "第六代领导",
            "第1代领导",
            "第3代领导",
            "第5代领导",
            "第7代领导",
            "国办发",
            "腐败中国",
            "你办事我放心",
            "打倒中国",
            "亡党亡国",
            "激流中国",
            "特贡",
            "zf大楼",
            "贪污腐败",
            "形式主义",
            "太子党",
            "北京帮",
            "红色贵族",
            "河蟹社会",
            "九风",
            "十七大",
            "17da",
            "9学",
            "4风",
            "南街村",
            "警匪",
            "独夫民贼",
            "城管暴力执法",
            "毒豺",
            "一党专制",
            "专制政权",
            "胡平",
            "贺卫方",
            "焦国标",
            "张志新",
            "高勤荣",
            "高智晟",
            "刘晓竹",
            "魏京生",
            "别梦成灰",
            "讨伐中宣部",
            "民运人士",
            "选国家主席",
            "min主",
            "民珠",
            "chinesedemocracy",
            "国际特赦",
            "投公",
            "宪政",
            "党章",
            "昝爱宗",
            "08宪",
            "觉醒的中国公民日渐清楚地认识到",
            "民主",
            "人拳",
            "人quan",
            "中国人权",
            "中国新民党",
            "群体性事件",
            "去中央",
            "请愿",
            "公开信",
            "万人大签名",
            "截访",
            "shangfang",
            "访民",
            "集会",
            "静坐",
            "jing坐",
            "示wei",
            "you行",
            "游xing",
            "官逼民反",
            "反共",
            "亢议",
            "低制",
            "di制",
            "dizhi",
            "血书",
            "baoluan",
            "出现暴动",
            "引起暴动",
            "灭共",
            "罢工",
            "罢考",
            "霸餐",
            "罢饭",
            "罢食",
            "罢ke",
            "ba课",
            "罢学",
            "网特",
            "网络评论员",
            "五毛们",
            "戒严",
            "jie严",
            "8的平方事件",
            "八九年",
            "2o年",
            "贰拾周年",
            "六河蟹四",
            "六和谐四",
            "陆肆",
            "5月35",
            "64惨案",
            "64运动",
            "四事件",
            "学潮",
            "xuechao",
            "门安天",
            "坦克压大学生",
            "历史的伤口",
            "北高联",
            "thegateofheavenlypeace",
            "为了忘却的纪念",
            "四二六社论",
            "柴玲",
            "封从德",
            "王维林",
            "吾尔开西",
            "阎明复",
            "蒋捷连",
            "辛灏年",
            "严家其",
            "中华局域网",
            "互联网审查",
            "新闻封锁",
            "爱国者同盟",
            "网络封锁",
            "gfw",
            "无界网络",
            "何清涟",
            "汪兆钧",
            "境外媒体",
            "纽约时报",
            "华盛顿邮报",
            "东森新闻网",
            "基督教科学箴言报",
            "亚洲周刊",
            "美联社",
            "雅虎香港",
            "youtube",
            "美国之音",
            "英国金融时报",
            "中央日报",
            "中国时报",
            "威胁论",
            "钓鱼岛",
            "主权",
            "火乍",
            "石肖",
            "步qiang",
            "爆zha",
            "zha药",
            "炸dan",
            "zhadan",
            "hmtd",
            "六氟化铀",
            "弹药配方",
            "皮箱炸弹",
            "人体炸弹",
            "解放军",
            "军转",
            "8341部队",
            "七大军区",
            "北京军区",
            "济南军区",
            "广州军区",
            "兰州军区",
            "规模冲突",
            "基地组织",
            "恐怖份子",
            "印尼屠华",
            "蒋公纪念歌",
            "mayingjiu",
            "苏贞昌",
            "陈水扁",
            "陈随便",
            "a扁",
            "台百度湾",
            "台wan",
            "台弯",
            "台湾国",
            "台军",
            "台毒",
            "taidu",
            "一中一台",
            "两岸关系",
            "攻占台湾",
            "进攻台湾",
            "统一台湾",
            "登陆台湾",
            "解放tw",
            "光复民国",
            "台湾问题",
            "台海危机",
            "台海大战",
            "台海局势",
            "入耳关",
            "国民党",
            "民进党",
            "闹独立",
            "fenlie",
            "小泽一郎",
            "汉人",
            "维汉",
            "吾尔",
            "伊力哈木",
            "东突厥斯坦解放组织",
            "蒙古分裂分子",
            "阿旺晋美",
            "臧人",
            "藏民",
            "达赖",
            "dalai",
            "dl喇嘛",
            "打砸抢",
            "藏独",
            "臧独",
            "藏du",
            "支持zd",
            "藏青会",
            "拉萨",
            "啦沙",
            "拉sa",
            "la萨",
            "藏西",
            "xi藏",
            "西z",
            "希葬",
            "硒藏",
            "西脏",
            "西葬",
            "援藏",
            "王千源",
            "回教",
            "回回",
            "穆斯林",
            "穆罕默德",
            "伊斯兰",
            "清真",
            "qingzhen",
            "阿拉伯",
            "韩国狗",
            "满狗",
            "胡的接班人",
            "习近平",
            "xjp",
            "习明泽",
            "温家宝",
            "温x",
            "温宝宝",
            "温加保",
            "温云松",
            "温jb",
            "胡x",
            "胡boss",
            "胡王八",
            "胡jintao",
            "胡惊涛",
            "胡紧掏",
            "胡紧套",
            "hjt",
            "胡主席",
            "胡海峰",
            "江泽民",
            "江胡",
            "江主席",
            "江浙闽",
            "江浙民",
            "则民",
            "zemin",
            "老江",
            "江core",
            "江派",
            "jzm",
            "江蛤蟆",
            "江贼",
            "江氏集团",
            "江绵康",
            "江泽慧",
            "平小邓",
            "邓xp",
            "邓朴方",
            "邓质方",
            "猫泽东",
            "chairmanmao",
            "毛zd",
            "z东",
            "泽d",
            "毛太祖",
            "主席画像",
            "朱镕基",
            "朱镕鸡",
            "朱云来",
            "李peng",
            "李月月鸟",
            "李小琳",
            "华国",
            "国峰",
            "白春礼",
            "薄一波",
            "蔡武",
            "常万全",
            "陈德铭",
            "陈良宇",
            "陈同海",
            "戴秉国",
            "董建华",
            "杜世成",
            "郭伯雄",
            "贺国强",
            "耀邦",
            "黄华华",
            "黄兴国",
            "贾庆林",
            "靖志远",
            "李春城",
            "李克强",
            "李沛瑶",
            "李瑞环",
            "李先念",
            "李源潮",
            "梁光烈",
            "林树森",
            "林左鸣",
            "柳斌杰",
            "刘少奇",
            "刘云山",
            "龙新民",
            "罗箭",
            "马飚",
            "孟建柱",
            "强卫",
            "宋平顺",
            "苏树林",
            "铁凝",
            "王东明",
            "王鸿举",
            "王乐泉",
            "王岐山",
            "王太华",
            "王兆国",
            "吴邦国",
            "吴官正",
            "吴胜利",
            "奚国华",
            "徐才厚",
            "徐绍史",
            "叶剑英",
            "于幼军",
            "袁纯清",
            "曾庆红",
            "曾荫权",
            "张定发",
            "张立昌",
            "张志国",
            "紫阳",
            "周永康",
            "政治局常委",
            "主席像",
            "中南海",
            "中国当局",
            "共产党",
            "gcd",
            "gongchandang",
            "共一产一党",
            "公产党",
            "共c党",
            "共铲",
            "共惨",
            "供铲谠",
            "共残党",
            "共产主义的幽灵",
            "老共",
            "中珙",
            "gc党",
            "gong党",
            "狗产蛋",
            "恶党",
            "共产专制",
            "裆中央",
            "土g",
            "g匪",
            "仇共",
            "政府",
            "政腐",
            "正府",
            "政一府",
            "政f",
            "政zhi",
            "档中央",
            "中国zf",
            "国wu院",
            "gong和",
            "北京政权 ",
            "中国教徒",
            "观音法门",
            "盘古",
            "志洪李",
            "轮功",
            "轮法功",
            "氵去车仑",
            "法x功",
            "法0功",
            "轮子功",
            "法lun",
            "法lg",
            "fl功",
            "大法弟子",
            "dajiyuan",
            "明慧周报",
            "新唐人",
            "退党",
            "退dang",
            "自fen",
            "九评",
            "9ping",
            "jiuping",
            "集体自杀",
            "zi杀",
            "titor",
            "逢八必灾",
            "逢九必乱",
            "根达亚文明",
            "人类灭亡进程表",
            "推背图",
            "济世灵文",
            "爱女人",
            "按摩棒",
            "爆草",
            "暴干",
            "暴乳",
            "暴淫",
            "被操",
            "被干",
            "仓井空",
            "操逼",
            "操烂",
            "肏死",
            "操我",
            "插比",
            "插逼",
            "插你",
            "插阴",
            "潮喷",
            "成人论坛",
            "成人网站",
            "成人小说",
            "成人游戏",
            "赤裸",
            "扌由插",
            "春药",
            "大力抽送",
            "荡妇",
            "盗撮",
            "发浪",
            "肥逼",
            "封面女郎",
            "干死你",
            "肛交",
            "龟头",
            "国产av",
            "豪乳",
            "后庭",
            "虎骑",
            "换妻俱乐部",
            "几吧",
            "鸡巴",
            "寂寞男",
            "妓女",
            "集体淫",
            "叫床",
            "金鳞岂是池中物",
            "精液",
            "巨屌",
            "菊门",
            "巨乳",
            "开苞",
            "口活",
            "口射",
            "裤袜",
            "狂插",
            "浪妇",
            "浪女",
            "聊性",
            "铃木麻",
            "漏乳",
            "乱交",
            "轮暴",
            "轮奸",
            "买春",
            "美少妇",
            "美腿",
            "美幼",
            "迷奸",
            "蜜穴",
            "摸奶",
            "母奸",
            "奶子",
            "内射",
            "嫩女",
            "捏弄",
            "炮友",
            "喷精",
            "品香堂",
            "强jian",
            "强奸处女",
            "情色",
            "全裸",
            "惹火身材",
            "人兽",
            "日烂",
            "肉逼",
            "肉洞",
            "肉棍",
            "肉具",
            "肉穴",
            "乳爆",
            "乳沟",
            "乳头",
            "骚逼",
            "骚女",
            "骚穴",
            "色界",
            "色盟",
            "色区",
            "色诱",
            "色b",
            "少修正",
            "射颜",
            "释欲",
            "兽交",
            "兽欲",
            "熟母",
            "爽片",
            "双臀",
            "丝袜",
            "松岛枫",
            "汤加丽",
            "体奸",
            "舔脚",
            "调教",
            "偷拍",
            "脱内裤",
            "我就色",
            "舞女",
            "吸精",
            "相奸",
            "校鸡",
            "小xue",
            "性感妖娆",
            "性虎",
            "性技巧",
            "性奴",
            "性息",
            "胸推",
            "学生妹",
            "亚情",
            "阳具",
            "要射了",
            "一本道",
            "一夜情",
            "阴部",
            "阴唇",
            "阴道",
            "阴阜",
            "淫河",
            "阴户",
            "淫叫",
            "阴茎",
            "淫浪",
            "淫糜",
            "淫母",
            "淫虐",
            "淫情",
            "淫声浪语",
            "淫书",
            "淫水",
            "淫威",
            "淫样",
            "淫照",
            "应召",
            "幼男",
            "欲火",
            "玉女心经",
            "玉乳",
            "玉穴",
            "原味内衣",
            "张筱雨",
            "招妓",
            "抓胸",
            "自慰",
            "18禁",
            "a4u",
            "adult",
            "anal",
            "fuck",
            "g点",
            "hardcore",
            "h动漫",
            "porn",
            "sexinsex",
            "xiao77",
            "tokyohot",
            "汉芯造假",
            "中印边界谈判结果",
            "摸nai门",
            "脱裤门",
            "乌鲁木齐",
            "针刺",
            "食堂涨价",
            "h1n1",
            "yangjia",
            "yang佳",
            "杨j",
            "杀警",
            "川b26931",
            "周正毅",
            "骂四川",
            "家le福",
            "麦当劳被砸",
            "这不是天灾",
            "震其国土",
            "提前预测",
            "隐瞒地震",
            "蟾蜍迁徙",
            "八级地震毫无预报",
            "聂树斌",
            "陈相贵",
            "尹方明",
            "王奉友",
            "惨奥",
            "凹晕",
            "懊孕",
            "奥你妈的运",
            "628事件",
            "wengan",
            "瓮安事件",
            "讨回工资",
            "帮忙点一下",
            "请点击进入",
            "私人侦探",
            "针孔摄象",
            "信用卡提现",
            "广告代理",
            "借腹生子",
            "找个爸爸",
            "代生孩子",
            "腾讯客服电话",
            "免费订购热线",
            "款到发货",
            "连锁加盟",
            "免费二级域名",
            "免费索取",
            "婴儿汤",
            "刻章办",
            "套牌车",
            "电脑传讯",
            "下载速度",
            "全集在线",
            "txt下载",
            "6位qq",
            "个qb",
            "用刀横向切腹",
            "四海帮",
            "地下钱庄",
            "阿波罗网",
            "六合彩",
            "替考试",
            "出售答案",
            "答an",
            "资金周转",
            "股市圈钱",
            "资金短缺",
            "质押贷款",
            "周小川",
            "尚福林",
            "安眠酮",
            "普萘洛尔",
            "西布曲明",
            "胰岛素样生长因子",
            "地西泮",
            "甲睾酮",
            "erythropoietin",
            "莫达非尼",
            "苯巴比妥",
            "泼尼松",
            "雄烯二醇",
            "tamoxifen",
            "androst",
            "杜冷丁",
            "mdma",
            "海luo因",
            "diamorphine",
            "鸦片",
            "咖啡因",
            "三唑仑",
            "麻古",
            "凯他敏",
            "冰毒",
            "cannabis",
            "爱他死",
            "benzodiazepines",
            "安非他命",
            "morphine",
            "迷药",
            "narcotic",
            "精神药品 ",
            "其它：",
            "协警",
            "专业调查",
            "jq的来",
            "第一夫人",
            "黄巨",
            "家元自称玉皇大帝",
            "何祚庥",
            "不要沉默",
            "食堂涨价",
            "浪漫邂逅",
            "张小洋",
            "子宫",
            "回派",
            "国之母",
            "国姆",
            "震惊全球",
            "chengdu",
            "六月飞雪",
            "暴力袭击",
            "粮荒",
            "复制地址到地址栏",
            "中国猪",
            "进化不完全的生命体",
            "贱人",
            "大sb",
            "傻b",
            "煞笔",
            "傻比",
            "欠干",
            "我日你",
            "我草",
            "卧槽",
            "艹你",
            "你他妈",
            "别他吗",
            "草你丫",
            "擦你妈",
            "操他妈",
            "干你妈",
            "娘西皮",
            "狗草",
            "狗日的",
            "操你全家",
            "妈逼",
            "麻痹的",
            "马勒",
            "贱比",
            "下贱",
            "全家死光",
            "全家死绝",
            "无耻",
            "杀b",
            "你妈的",
            "贱货",
            "混蛋",
            "和弦",
            "限量",
            "性伴侣",
            "火辣",
            "射精",
            "强奸",
            "性爱",
            "按摩",
            "处男",
            "少妇",
            "屁股",
            "a片",
            "浑圆",
            "发情",
            "白嫩",
            "兽性",
            "呻吟",
            "阉割",
            "裸露",
            "一丝不挂",
            "干你",
            "我干",
            "木牛流马的污染比汽车飞机大",
            "当官靠后台",
            "中石化说亏损",
            "领导干部吃王八",
            "公检法是流氓",
            "剖腹一刀五千几",
            "父母下岗儿下地",
            "自制",
            "制作",
            "求购",
            "手机",
            "联系",
            "出售 ",
            "卖",
            "管制刀具",
            "bb弹",
            "军用品",
            "手枪",
            "步枪",
            "电狗",
            "枪模",
            "仿真枪",
            "信号枪",
            "来福枪",
            "冲锋枪",
            "卡宾枪",
            "枪械",
            "硝铵",
            "燃烧瓶",
            "爆炸物",
            "雷管",
            "燃烧弹",
            "自制",
            "制作",
            "求购",
            "手机",
            "联系",
            "出售",
            "卖",
            "sm",
            "操你",
            "你他妈",
            "傻批"
    );


    /**
     * 通知公告对象
     */
    @Autowired
    public NoticeAnnouncementController(NoticeAnnouncementService service) {
        setService(service);
    }

    @PostMapping("/add")
    @Transactional
    public Map<String, Object> add(HttpServletRequest request) throws IOException {
        Map<String, Object> paramMap = service.readBody(request.getReader());
        // 先将前台传来的数据转换为json对象
        Object o = JSONObject.toJSON(paramMap);
        // 将json对象转换为实体类对象
        NoticeAnnouncement noticeAnnouncement = JSONObject.parseObject(o.toString(), NoticeAnnouncement.class);
        // 初始化敏感词库对象
        SensitiveWordInit sensitiveWordInit = new SensitiveWordInit();
        // 构建敏感词库
        SensitiveWordEngine.sensitiveWordMap = sensitiveWordInit.initKeyWord(sensitiveWordDicts);
        // 对内容进行敏感词过滤
        boolean isSensitiveWord = SensitiveWordEngine.isContaintSensitiveWord(noticeAnnouncement.getContent(), 2);
        // 不包含敏感词则进行新增
        if (!isSensitiveWord){
            this.addMap(paramMap);
            return success(1);
        }else {
            return error(1, "您输入的内容包含敏感词，请修改！");
        }
    }

}
